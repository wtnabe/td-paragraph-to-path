!function(r){"use strict";function t(r,t){for(var n=0,e=r.length-1;e>=0;e--){var i=r[e];"."===i?r.splice(e,1):".."===i?(r.splice(e,1),n++):n&&(r.splice(e,1),n--)}if(t)for(;n--;n)r.unshift("..");return r}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,e=function(r){return n.exec(r).slice(1)};function i(){for(var r="",n=!1,e=arguments.length-1;e>=-1&&!n;e--){var i=e>=0?arguments[e]:"/";if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(r=i+"/"+r,n="/"===i.charAt(0))}return(n?"/":"")+(r=t(a(r.split("/"),(function(r){return!!r})),!n).join("/"))||"."}function s(r){var n=u(r),e="/"===l(r,-1);return(r=t(a(r.split("/"),(function(r){return!!r})),!n).join("/"))||n||(r="."),r&&e&&(r+="/"),(n?"/":"")+r}function u(r){return"/"===r.charAt(0)}var o={extname:function(r){return e(r)[3]},basename:function(r,t){var n=e(r)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},dirname:function(r){var t=e(r),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},sep:"/",delimiter:":",relative:function(r,t){function n(r){for(var t=0;t<r.length&&""===r[t];t++);for(var n=r.length-1;n>=0&&""===r[n];n--);return t>n?[]:r.slice(t,n-t+1)}r=i(r).substr(1),t=i(t).substr(1);for(var e=n(r.split("/")),s=n(t.split("/")),u=Math.min(e.length,s.length),o=u,a=0;a<u;a++)if(e[a]!==s[a]){o=a;break}var l=[];for(a=o;a<e.length;a++)l.push("..");return(l=l.concat(s.slice(o))).join("/")},join:function(){var r=Array.prototype.slice.call(arguments,0);return s(a(r,(function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r})).join("/"))},isAbsolute:u,normalize:s,resolve:i};function a(r,t){if(r.filter)return r.filter(t);for(var n=[],e=0;e<r.length;e++)t(r[e],e,r)&&n.push(r[e]);return n}var l="b"==="ab".substr(-1)?function(r,t,n){return r.substr(t,n)}:function(r,t,n){return t<0&&(t=r.length+t),r.substr(t,n)};r.TdParagraphConverter=class{get PARAGRAPH_RE(){return/^#p[0-9]{2}$/}filename(r){const t=r.pathname,n=(this.PARAGRAPH_RE.test(r.hash)?r.hash:null).replace(/[^0-9]/g,"");return o.join(o.basename(t,o.extname(t)),n)+"/"}convert(r){return this.PARAGRAPH_RE.test(r.hash)?[r.origin,o.dirname(r.pathname),"/"+this.filename(r)].join(""):r.toString()}},Object.defineProperty(r,"__esModule",{value:!0})}({});
